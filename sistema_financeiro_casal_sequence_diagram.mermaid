sequenceDiagram
    participant U as Usuario
    participant A as AuthService
    participant S as StorageService
    participant C as ContaCompartilhada
    participant T as TransacaoService

    %% Fluxo de Registro/Login
    U->>A: registrarUsuario(dados)
    A->>S: salvarDados('usuarios', dados)
    S-->>A: confirmação
    A-->>U: usuario registrado

    U->>A: logarUsuario(email, senha)
    A->>S: obterDados('usuarios')
    S-->>A: dados usuarios
    A-->>U: usuario autenticado

    %% Fluxo de Criação de Conta Compartilhada
    U->>C: criarConta(dados)
    C->>S: salvarDados('contas', dados)
    S-->>C: confirmação
    C-->>U: conta criada

    %% Fluxo de Transações
    U->>T: criarTransacao(dados)
    T->>S: obterDados('transacoes')
    S-->>T: transacoes atuais
    T->>S: salvarDados('transacoes', novaLista)
    S-->>T: confirmação
    T-->>U: transação criada

    %% Fluxo de Consulta de Saldo
    U->>T: calcularSaldo(contaId)
    T->>S: obterDados('transacoes')
    S-->>T: transacoes
    T-->>U: saldo calculado